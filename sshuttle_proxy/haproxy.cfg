global
    daemon
    log stdout local0

defaults
    mode http
    timeout connect 5000ms
    timeout client 30000ms
    timeout server 30000ms
    option httplog

# Simple health check endpoint
frontend health
    bind *:8080
    http-request return status 200 content-type "text/plain" string "HAProxy OK"

# VAST S3/DB proxy - no health checks
frontend vast_s3
    bind *:19090
    mode http
    default_backend vast_s3_backend

backend vast_s3_backend
    mode http
    server vast_s3 11.0.0.3:9090

# VAST Kafka proxy - TCP mode
frontend vast_kafka
    bind *:19094
    mode tcp
    default_backend vast_kafka_backend

backend vast_kafka_backend
    mode tcp
    server vast_kafka 11.0.0.3:9092
